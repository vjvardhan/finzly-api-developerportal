{
  "openapi" : "3.0.0",
  "info" : {
    "title" : "Customer User Management",
    "description" : "The API for the customer user management.",
    "version" : "1.0.0"
  },
  "servers" : [ {
    "url" : "https://sandbox-security-uat.finzly.io/auth/realms/BANKOS.UAT.SANDBOX.CUSTOMER/protocol/openid-connect/token",
    "description" : "Authentication",
    "variables" : {
      "tenant" : {
        "description" : "Tenant",
        "default" : "sandbox"
      }
    }
  } ],
  "paths" : {
    "/v1/customer/{customerUID}/users" : {
      "post" : {
        "tags" : [ "Users" ],
        "summary" : "Create new user.",
        "description" : "To save customer user details in the system.",
        "operationId" : "saveUserDetails",
        "parameters" : [ {
          "name" : "customerUID",
          "in" : "path",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string",
            "description" : "customer Unique Identifier."
          }
        } ],
        "requestBody" : {
          "description" : "Credit Payment Request fields",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/userRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "default" : {
            "description" : "Save user details",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/userResponse"
                }
              }
            }
          },
          "200" : {
            "description" : "OK",
            "content" : {
              "*/*" : {
                "schema" : {
                  "$ref" : "#/components/schemas/userResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request"
          },
          "401" : {
            "description" : "You are not authorized to access the resource"
          },
          "403" : {
            "description" : "Accessing the resource you were trying to reach is forbidden"
          },
          "404" : {
            "description" : "The resource you were trying to reach is not found"
          },
          "500" : {
            "description" : "Internal server error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Error"
                  }
                }
              }
            }
          },
          "503" : {
            "description" : "Service unavailable"
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "Error" : {
        "properties" : {
          "code" : {
            "type" : "string",
            "description" : "Error code assigned by the system",
            "example" : "invalidMethod"
          },
          "description" : {
            "type" : "string",
            "description" : "Error description to provide addtional details about the error code",
            "example" : "Invalid HTTP method used"
          }
        }
      },
      "userRequest" : {
        "required" : [ "department", "email", "externalReferenceId", "firstName", "lastName", "loginId", "mobile", "roleUIDs" ],
        "properties" : {
          "externalReferenceId" : {
            "type" : "string",
            "description" : "Unique reference id from a system outside of finzly. The external reference id can be used by the finzly for the request tracing (if needed).",
            "example" : "User101"
          },
          "loginId" : {
            "type" : "string",
            "description" : "unique identifier.",
            "example" : "user123"
          },
          "firstName" : {
            "type" : "string",
            "description" : "User first name.",
            "example" : "john"
          },
          "lastName" : {
            "type" : "string",
            "description" : "last name of user",
            "example" : "T."
          },
          "email" : {
            "type" : "string",
            "description" : "users email id",
            "example" : "user123@gamil.com"
          },
          "mobile" : {
            "type" : "string",
            "description" : "User contact number",
            "example" : "9389989658"
          },
          "department" : {
            "type" : "string",
            "description" : "valid department code",
            "example" : "Admin etc"
          },
          "otherDepartment" : {
            "type" : "array",
            "description" : "valid list of department codes",
            "example" : "Admin etc."
          },
          "ssoEnabled" : {
            "type" : "string",
            "example" : "true,false"
          },
          "emulationUser" : {
            "type" : "string",
            "example" : "true,false"
          },
          "roleUIDs" : {
            "type" : "array",
            "description" : "valid list of department codes",
            "example" : "adminRole etc."
          },
          "limits" : {
            "$ref" : "#/components/schemas/userlimits"
          }
        }
      },
      "userlimits" : {
        "properties" : {
          "limitUID" : {
            "type" : "string",
            "example" : "FX_LIMIT, etc"
          },
          "appCode" : {
            "type" : "string",
            "example" : "finzly.cashos.cashosfx, etc"
          },
          "limitValue" : {
            "type" : "string",
            "example" : "FX_DAILY_LIMIT, etc"
          }
        }
      },
      "userResponse" : {
        "properties" : {
          "message" : {
            "type" : "string",
            "description" : "Error message indicating the issue in API call along with the reason.",
            "example" : "<Reason>"
          },
          "data" : {
            "$ref" : "#/components/schemas/userResponse_data"
          }
        }
      },
      "userResponse_data" : {
        "type" : "object",
        "properties" : {
          "userUUID" : {
            "type" : "string",
            "description" : "Newly created user id.",
            "example" : "f37f6757-c546-42d4-8235-5965419b495d."
          }
        }
      }
    }
  }
}